<ion-header *transloco="let t">
    <ion-toolbar>
        <ion-title>
            <div class="ion-text-wrap" [innerHTML]="Title"></div>
        </ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="cancel()" [ariaLabel]="t('buttons.cancel')">
                <ion-icon src="./assets/icons/close.svg" slot="icon-only"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<div class="inner-content ion-padding" *transloco="let t">
    <form (ngSubmit)="onSubmit()" [formGroup]="Form">
        <ion-textarea [label]="t('comp-listitemeditor.itemname')" labelPlacement="floating" fill="outline" counter="true" maxlength="250" autocapitalize="sentence" spellcheck="true" formControlName="item" [autoGrow]="true" required="true" (ionFocus)="hideAds()" #itemname></ion-textarea>
        <ion-textarea class="note" [label]="t('comp-listitemeditor.itemnote')" labelPlacement="floating" fill="outline" counter="true" maxlength="250" autocapitalize="sentence" spellcheck="true" formControlName="note" [autoGrow]="true"></ion-textarea>
        @if (ConnectIQInitialized) {
        <ion-item lines="none">
            <ion-checkbox labelPlacement="end" justify="start" alignment="center" formControlName="hidden">
                {{ t("comp-listitemeditor.hidden") }}
            </ion-checkbox>
            <ion-icon src="/assets/icons/info.svg" slot="end" class="info-icon" (click)="clickInfoHidden($event)"></ion-icon>
        </ion-item>
        } @if (true) {
        <ion-item lines="none">
            <ion-checkbox labelPlacement="end" justify="start" alignment="center" formControlName="locked">
                {{ t("comp-listitemeditor.locked") }}
            </ion-checkbox>
            <ion-icon src="/assets/icons/info.svg" slot="end" class="info-icon" (click)="clickInfoLocked($event)"></ion-icon>
        </ion-item>
        }

        <div class="buttons">
            @if(Params?.list && Params?.item) {
            <ion-button class="ion-float-end" fill="outline" (click)="onDelete()">
                {{ t("comp-listitemeditor.delete") }}
            </ion-button>
            } @if (Params?.onAddItem) {
            <ion-toggle labelPlacement="end" #addmore (ionChange)="onAddMoreChanged($event.target.checked)">
                <ion-label class="ion-text-wrap">{{ t("comp-listitemeditor.add_more") }}</ion-label>
            </ion-toggle>
            }
            <ion-button class="ion-float-end" [disabled]="!Form.valid" (click)="onSubmit()">
                {{ Confirm }}
            </ion-button>
        </div>
    </form>
</div>
